<ActionBar id="mapPage" title="PickUp Sports">

    <ActionItem orientation="horizontal" ios:horizontalAlignment="right" android:horizontalAlignment="right" android.systemIcon="ic_menu_cc_am" (tap)="goProfilePage()"></ActionItem>

</ActionBar>
<StackLayout (loaded)="onSearchLayoutLoaded($event)">
    <SearchBar row="0" #searchMyBar hint="search for sports/events" (loaded)="onSearchBarLoaded($event)" [text]="searchPhrase" (clear)="onClear()" (textChange)="searchSports($event)"></SearchBar>
    <ListView row="1" [items]="returnedEvents" class="list-group">
        <ng-template let-item="item">
            <GridLayout class="item" class="list-group-item">
                <Label [nsRouterLink]="['/event/', item.id]" [text]="item.name + '-' + (item.time | date:short)" class="list-group-item" textWrap="true"></Label>
            </GridLayout>
        </ng-template>
    </ListView>
    <MapView #mapView (mapReady)="onMapReady($event)" (markerSelect)="onMarkerSelect($event)" latitude="36.160338" longitude="-86.778780" zoom="9"></MapView>
</StackLayout>
<!--
<StackLayout>
    <ContentView height="100%" width="100%">
        <Mapbox accessToken="pk.eyJ1Ijoicnl1a2VyMTYiLCJhIjoiY2l5dWxydHBnMDE2MDMybG02ODkzbHZ4NSJ9.izKvS2BW3JTlGxaBhtjf-g" mapStyle="light" latitude="36.160338" longitude="-86.778780" zoomLevel="12" showUserLocation="true" (mapReady)="onMapReady($event)">
        </Mapbox>
    </ContentView>
    <ListView  row="1" [items]="returnedEvents" class="list-group" (itemTap)="onSelectEvent($event)" >
        <template let-item="item">
      <GridLayout class="item" class="list-group-item">
          <Label [text]="item.name + ', Sport : ' + item.sport" class="list-group-item-heading"></Label>
        </GridLayout>
</template>
    </ListView>
</StackLayout>-->